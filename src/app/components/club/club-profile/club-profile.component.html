<ng-container *ngIf="!loading && club; else loadingState">
  <!-- HEADER -->
  <div class="header-fixed-top bg-white shadow-sm">
    <div class="container py-2 dashboard-container d-flex justify-content-between align-items-center">
      <!-- Logo -->
      <div class="logo-container">
        <img src="/brand.png" alt="logo de padel reserve" class="dashboard-logo" />
      </div>

      <!-- Saludo centrado -->
      <div class="text-center flex-grow-1 mx-2">
        <h1 class="club-greeting-title">
          {{ club.nombreFantasia || club.razonSocial || ('Club #' + club.idClub) }}
        </h1>
        <h3 class="club-greeting-subtitle">Perfil del club</h3>
      </div>

      <!-- Volver -->
    <button class="btn btn-outline-secondary btn-sm" (click)="goBack()">
    <i class="bi bi-arrow-left me-1"></i>
    Volver
    </button>

    <!-- Logout -->
    <button class="btn btn-danger btn-sm ms-2 logout-btn" (click)="logout()">
    <i class="bi bi-box-arrow-right me-1"></i>
    Cerrar Sesión
    </button>
    </div>
  </div>

  <!-- PERFIL -->
  <div class="profile-page">
    <div class="profile-card card">
      <!-- Header del card -->
      <div class="profile-card-header">
        <!-- Avatar fijo del club (codigo SVG inline) -->
        <div class="club-avatar-wrap">
          <div class="club-avatar" aria-hidden="true">
            <svg viewBox="0 0 128 128" width="110" height="110" role="img" aria-label="Club Padel">
              <defs>
                <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
                  <stop offset="0" stop-color="#255a69" stop-opacity="0.95"/>
                  <stop offset="1" stop-color="#3a7a8c" stop-opacity="0.95"/>
                </linearGradient>
              </defs>
              <circle cx="64" cy="64" r="56" fill="url(#g)" opacity="0.18"></circle>

              <!-- cancha -->
              <rect x="26" y="34" width="76" height="60" rx="10" fill="url(#g)" opacity="0.95"/>
              <rect x="34" y="42" width="60" height="44" rx="8" fill="#ffffff" opacity="0.16"/>

              <!-- red -->
              <path d="M64 42 v44" stroke="#ffffff" stroke-width="3" opacity="0.7"/>
              <path d="M34 64 h60" stroke="#ffffff" stroke-width="3" opacity="0.5"/>

              <!-- pelota -->
              <circle cx="90" cy="48" r="7" fill="#ffffff" opacity="0.85"/>
              <path d="M86 48c2-3 6-3 8 0" stroke="#255a69" stroke-width="2" opacity="0.5" fill="none"/>
              <path d="M86 48c2 3 6 3 8 0" stroke="#255a69" stroke-width="2" opacity="0.5" fill="none"/>

              <!-- edificio/club -->
              <path d="M40 94h48c2 0 4 2 4 4v6H36v-6c0-2 2-4 4-4z" fill="#255a69" opacity="0.8"/>
              <path d="M48 94v-12c0-2 2-4 4-4h24c2 0 4 2 4 4v12" fill="#255a69" opacity="0.55"/>
            </svg>
          </div>
          <span class="club-avatar-ring" aria-hidden="true"></span>
        </div>

        <div class="profile-header-text">
          <h2 class="club-name">
            {{ club.nombreFantasia || club.razonSocial || ('Club #' + club.idClub) }}
          </h2>

          <div class="club-subline">
            <span [class]="estadoChipClass(club.idEstadoClub)">
              <i class="bi bi-shield-check me-1"></i>
              Estado: {{ estadoLabel(club.idEstadoClub) }}
            </span>

            <span class="chip chip-muted">
              <i class="bi bi-hash me-1"></i>
              ID: {{ club.idClub }}
            </span>

            <span class="chip chip-muted">
              <i class="bi bi-person-badge me-1"></i>
              Usuario: {{ club.idUsuario }}
            </span>
          </div>
        </div>

        <div class="profile-header-actions">
          <div class="hint-pill">
            <i class="bi bi-building me-1"></i>
            Datos del club
          </div>
        </div>
      </div>

      <!-- Body del card -->
      <div class="profile-card-body">
        <div class="section-title-row">
          <h3 class="section-title">
            <i class="bi bi-info-circle me-2"></i>
            Información del Club
          </h3>
          <span class="section-hint">Identificación y ubicación</span>
        </div>

        <div class="info-grid">
          <div class="info-item">
            <div class="info-icon"><i class="bi bi-building"></i></div>
            <div class="info-content">
              <div class="info-label">Razón Social</div>
              <div class="info-value">{{ club.razonSocial || '-' }}</div>
            </div>
          </div>

          <div class="info-item">
            <div class="info-icon"><i class="bi bi-stars"></i></div>
            <div class="info-content">
              <div class="info-label">Nombre Fantasía</div>
              <div class="info-value">{{ club.nombreFantasia || '-' }}</div>
            </div>
          </div>

          <div class="info-item">
            <div class="info-icon"><i class="bi bi-card-text"></i></div>
            <div class="info-content">
              <div class="info-label">CUIT/CUIL</div>
              <div class="info-value">{{ club.cuitCuil || '-' }}</div>
            </div>
          </div>

          <div class="info-item">
            <div class="info-icon"><i class="bi bi-geo"></i></div>
            <div class="info-content">
              <div class="info-label">Provincia</div>
              <div class="info-value">{{ club.provincia || '-' }}</div>
            </div>
          </div>

          <div class="info-item">
            <div class="info-icon"><i class="bi bi-geo-alt"></i></div>
            <div class="info-content">
              <div class="info-label">Localidad</div>
              <div class="info-value">{{ club.localidad || '-' }}</div>
            </div>
          </div>

          <div class="info-item info-item-wide">
            <div class="info-icon"><i class="bi bi-pin-map"></i></div>
            <div class="info-content">
              <div class="info-label">Dirección</div>
              <div class="info-value">{{ club.direccion || '-' }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #loadingState>
  <div class="text-center mt-5">
    <p *ngIf="loading">Cargando perfil del club...</p>
    <div *ngIf="!loading && error" class="alert alert-danger d-inline-block">
      {{ error }}
    </div>
  </div>
</ng-template>
